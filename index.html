<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ—Ç –®–ê–ì–ê–ô –î–û–ú–ê‚ö°</title>
<meta name="description" content="–£–∑–Ω–∞–π—Ç–µ, –∑–∞ —Å–∫–æ–ª—å–∫–æ –Ω–µ–¥–µ–ª—å —à–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–º–æ–≥—É—Ç –≤–∞–º –ø–æ—Ö—É–¥–µ—Ç—å."/>
<meta name="color-scheme" content="light only"/>
<link rel="preload" as="image" href="superfit.png">
<link rel="preload" as="image" href="m.png">
<link rel="preload" as="image" href="xxl.png">
<style>
:root{--r:#CF2C02;--y:#FFBA08;--o:#E85D04;--g:#D9D9D9;--txt:#1a1a1a;--hero-pos-y:28%;--hero-pos-y-m:22%}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--txt);background:#fff;overflow-x:hidden}
.hidden{display:none!important}
.app{width:min(960px,100%);margin:0 auto;padding:16px}
.card{background:#fff;border-radius:22px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:16px;overflow:hidden;position:relative}

/* HERO */
.hero-wrap{position:relative;margin:0 0 12px;border-radius:20px;overflow:hidden;box-shadow:0 10px 18px rgba(0,0,0,.08);aspect-ratio:16/9}
.hero-wrap::before{content:"";display:block;padding-top:56.25%}
.hero-media,.hero-skel{position:absolute;inset:0;width:100%;height:100%;border-radius:20px}
.hero-media{display:block;object-fit:cover;object-position:50% var(--hero-pos-y)}
@media (max-width:480px){.hero-media{object-position:50% var(--hero-pos-y-m)}}
.hero-skel{background:linear-gradient(110deg,#f4f4f4 8%,#eaeaea 18%,#f4f4f4 33%);background-size:200% 100%;animation:heroShimmer 1.2s linear infinite;pointer-events:none}
@keyframes heroShimmer{to{background-position-x:-200%}}
.hero-skel.hide{opacity:0;pointer-events:none;transition:opacity .25s ease}

/* Screens */
.screen{display:none;animation:.35s fs ease both;padding-bottom:90px}
.screen.is{display:block}
@keyframes fs{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
h1{font-size:clamp(22px,5.6vw,38px);line-height:1.15;margin:8px 0 10px}
h2{font-size:clamp(20px,5vw,30px);line-height:1.18;margin:6px 0 12px}
.hint{color:#6b6b6b;font-size:.95rem}
.lead-sub{margin:6px 0 12px}
.grid{display:grid;gap:10px}.cols2{grid-template-columns:1fr 1fr}
@media (max-width:620px){.cols2{grid-template-columns:1fr}}

.opt{border:2px solid var(--g);border-radius:14px;padding:12px;display:flex;gap:10px;align-items:center;background:#fff;cursor:pointer;transition:.2s}
.opt.is{border-color:var(--o);box-shadow:0 6px 16px rgba(232,93,4,.12)}
.opt--img{flex-direction:column;align-items:center;text-align:center;padding:10px}
.opt--img img{width:100%;height:180px;object-fit:contain;background:#fafafa;border-radius:12px}
.opt--img span{margin-top:8px;font-weight:600}

.chips{display:flex;flex-wrap:wrap;gap:8px}.chip{border:2px solid var(--g);border-radius:999px;padding:8px 12px;background:#fff;cursor:pointer}
.chip.is{border-color:var(--o);box-shadow:0 6px 16px rgba(232,93,4,.12)}
.text{width:100%;border:2px solid var(--g);border-radius:12px;padding:10px 12px;font-size:1rem}

.actions{display:flex;gap:8px;margin-top:14px}
.btn{border:none;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
.primary{background:linear-gradient(135deg,var(--r),var(--o));color:#fff;box-shadow:0 10px 18px rgba(207,44,2,.25)}
.ghost{background:#fff;border:2px solid var(--g)}
.sticky{position:sticky;bottom:0;background:linear-gradient(0deg,#fff 70%,rgba(255,255,255,0));padding-top:8px;z-index:30}

/* ===== Discount header ===== */
#progress{display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin:0 0 12px}
#progress.hide{display:none!important}
.discbox{display:flex;align-items:center;gap:10px;border:2px solid #ffd5c2;background:#fff7ef;border-radius:14px;padding:8px 12px}
.discbox .title{font-weight:800}
.discbox .value{font-weight:900;font-size:1.2rem;letter-spacing:-.02em}
.disc-tip{position:relative;display:inline-grid;place-items:center;width:18px;height:18px;border-radius:50%;background:#FFBA08;color:#000;font-weight:800;font-size:.8rem;cursor:help}
.disc-tip .tt{position:absolute;left:50%;bottom:calc(100% + 8px);transform:translate(-50%,0);background:#222;color:#fff;padding:6px 8px;border-radius:8px;font-size:.85rem;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity .15s,transform .15s}
.disc-tip .tt::after{content:"";position:absolute;top:100%;left:50%;transform:translateX(-50%);border:6px solid transparent;border-top-color:#222}
.disc-tip:hover .tt,.disc-tip:focus .tt{opacity:1;transform:translate(-50%,-4px)}
.plogo{margin-left:auto;display:flex;align-items:center}
.plogo img{height:32px;width:auto;display:block;object-fit:contain}
@media (max-width:480px){.plogo img{height:28px}}

/* Steps slider */
#steps{--pct:0%;--track:#e9e9e9;--fill-start:var(--r);--fill-end:var(--o);width:100%;height:40px;background:transparent;accent-color:var(--o)}
#steps:focus{outline:none}
#steps::-webkit-slider-runnable-track{height:12px;border-radius:999px;background:linear-gradient(90deg,var(--fill-start) 0 var(--pct),var(--track) var(--pct) 100%)}
#steps::-webkit-slider-thumb{-webkit-appearance:none;width:28px;height:28px;border-radius:50%;background:#fff;border:3px solid var(--o);box-shadow:0 4px 10px rgba(232,93,4,.25);margin-top:-8px;transition:transform .12s ease}
#steps:active::-webkit-slider-thumb{transform:scale(1.06)}
#steps::-moz-range-track{height:12px;border-radius:999px;background:#e9e9e9}
#steps::-moz-range-progress{height:12px;border-radius:999px;background:linear-gradient(135deg,var(--fill-start),var(--fill-end))}
#steps::-moz-range-thumb{width:28px;height:28px;border-radius:50%;background:#fff;border:3px solid var(--o);box-shadow:0 4px 10px rgba(232,93,4,.25)}

/* BMI */
.bmi-line{margin-top:6px}
.bmi-tag{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:700;font-size:.9rem;vertical-align:baseline}
.bmi-ok{background:#e8f7ee;color:#0f7a42}.bmi-warn{background:#fff4e6;color:#a04b00}.bmi-bad{background:#ffe9e6;color:#a11000}

/* Habits */
.habit{display:grid;gap:14px}
.habit-grid{display:grid;gap:12px;grid-template-columns:1fr 1fr}
@media (max-width:720px){.habit-grid{grid-template-columns:1fr}}
.habit h3{margin:.2rem 0 .6rem;font-size:1.02rem}
.habit .col{border:2px solid var(--g);border-radius:14px;padding:12px;background:#fff}
.chips--pills{gap:8px}
.chips--pills .chip{border-radius:999px;padding:9px 12px;font-weight:600;border:2px solid var(--g);background:#fff;transition:.15s}
.chips--pills .chip.is{border-color:var(--o);background:#fffaf5}

.habit-meter{border:2px solid var(--g);border-radius:14px;padding:12px;background:#fff}
.habit-meter.hidden{display:none}
.hm-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
#hmScore{font-weight:800}
.hm-track{--p:50%;position:relative;height:12px;border-radius:999px;overflow:hidden;background:linear-gradient(90deg,#ffe1db 0%,#fff7e8 50%,#e7f7ef 100%)}
.hm-pointer{position:absolute;top:50%;left:var(--p);transform:translate(-50%,-50%);width:16px;height:16px;border-radius:50%;background:#fff;border:3px solid var(--o);box-shadow:0 3px 10px rgba(0,0,0,.12);transition:left .25s ease}
.hm-scale{display:flex;justify-content:space-between;font-size:.82rem;color:#666;margin-top:6px}
.hm-badge{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:700;font-size:.85rem;margin-left:8px}
.hm-bad{background:#ffe9e6;color:#a11000}.hm-ok{background:#fff3cc;color:#9a6b00}.hm-good{background:#e7f7ef;color:#0f7a42}

/* Hard cards */
.hardw{display:grid;gap:14px}
.hard-cards{display:grid;gap:12px;grid-template-columns:1fr 1fr}
@media (max-width:760px){.hard-cards{grid-template-columns:1fr}}
.hcard{position:relative;border:2px solid var(--g);border-radius:16px;background:#fff;padding:14px;cursor:pointer;transform-style:preserve-3d;transition:transform .15s ease,box-shadow .2s ease,border-color .2s;box-shadow:0 8px 18px rgba(0,0,0,.05);overflow:hidden}
.hcard:hover{box-shadow:0 12px 26px rgba(0,0,0,.08)}
.hcard.is{border-color:var(--o);background:linear-gradient(180deg,#fff 0,#fff9f3 100%);box-shadow:0 12px 26px rgba(232,93,4,.18)}
.hhead{display:flex;gap:10px;align-items:center;letter-spacing:-.02em}
.hicon{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;font-size:22px;background:#fff6f1;border:2px solid #ffd5c2}
.hhead,.hhead *{font-weight:500 !important}

/* Goal UI */
.goalw{display:grid;gap:12px}
.goal-top{display:grid;gap:8px;grid-template-columns:1.05fr .95fr}
@media (max-width:780px){.goal-top{grid-template-columns:1fr}}
.goal-card{border:2px solid var(--g);border-radius:16px;padding:10px;background:#fff;overflow:hidden}
.goal-fig{position:relative;height:260px;border:2px solid var(--g);border-radius:16px;padding:8px;background:#fff;overflow:hidden}
@media (max-width:480px){.goal-fig{height:220px}}
.goal-range .val{display:flex;align-items:baseline;gap:8px;font-size:clamp(18px,4.6vw,28px);font-weight:800;letter-spacing:-.03em;white-space:nowrap}
.goal-range .sub{color:#666;margin-top:2px}
#goalRange{width:100%;height:38px;background:transparent;accent-color:var(--o);--track:#e9e9e9;--fill-start:var(--r);--fill-end:var(--o)}
#goalRange:focus{outline:none}
#goalRange::-webkit-slider-runnable-track{height:12px;border-radius:999px;background:linear-gradient(90deg,var(--fill-start) 0 var(--pct),var(--track) var(--pct) 100%)}
#goalRange::-webkit-slider-thumb{-webkit-appearance:none;width:26px;height:26px;border-radius:50%;background:#fff;border:3px solid var(--o);box-shadow:0 4px 12px rgba(232,93,4,.25);margin-top:-7px;transition:transform .12s ease}
#goalRange::-moz-range-thumb{width:26px;height:26px;border-radius:50%;background:#fff;border:3px solid var(--o)}

/* Goal silhouettes */
.goal-stack{position:relative;width:100%;height:100%}
.goal-stack img{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;opacity:0;transform:scale(1);transition:opacity .28s ease,transform .28s ease;filter:drop-shadow(0 8px 22px rgba(0,0,0,.08))}
.goal-stack .tape{display:none!important}

/* Loading/result/sale */
.loader2{display:flex;flex-direction:column;align-items:center;text-align:center;padding:28px 8px 12px}
.loader2 .ring{--p:0%;width:88px;height:88px;border-radius:50%;background:conic-gradient(var(--o) var(--p),#eee 0);position:relative;box-shadow:0 8px 20px rgba(0,0,0,.08)}
.loader2 .ring::after{content:"";position:absolute;inset:10px;background:#fff;border-radius:50%}
.loader2 .pct{position:absolute;inset:0;display:grid;place-items:center;font-weight:800}
.loader2 .lmsg{margin-top:14px;font-weight:700;font-size:1.05rem}
.counter{font-size:clamp(26px,6vw,48px);line-height:1.15;letter-spacing:-.02em;text-wrap:balance}
.sale-hero{margin:0 0 12px;border-radius:16px;overflow:hidden}
.sale-hero img{width:100%;display:block;border-radius:16px;object-fit:cover}

/* DEAL (—Ç–∞–π–º–µ—Ä/–±–µ–π–¥–∂) */
.deal{margin:8px 0}
.deal-row{display:flex;align-items:center;gap:10px;justify-content:space-between}
.deal-badge{display:inline-block;padding:8px 12px;border-radius:999px;border:2px solid #ffd5c2;background:#fff7ef;font-weight:800;white-space:nowrap}
.deal-timer{font-weight:900;font-variant-numeric:tabular-nums;letter-spacing:.5px;border:2px solid var(--g);background:#fff;border-radius:12px;padding:6px 10px;min-width:72px;text-align:center}

/* –∫–µ–π—Å-–≤–∏–¥–∂–µ—Ç */
.case{border:2px solid var(--g);border-radius:16px;padding:12px;background:#fff;display:grid;grid-template-columns:96px 1fr;gap:12px;align-items:center;margin:10px 0}
.case img{width:96px;height:96px;object-fit:cover;border-radius:12px;background:#f6f6f6;cursor:zoom-in}
.case h3{margin:0 0 4px;font-size:1.05rem}
.case p{margin:0;color:#555}
.case.hide{display:none}

/* –ª–∞–π—Ç–±–æ–∫—Å */
#lightbox{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;z-index:9999;padding:20px}
#lightbox.show{display:flex}
#lightbox img{max-width:96vw;max-height:90vh;border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,.5)}
#lightbox .cap{color:#fff;margin-top:10px;text-align:center;font-size:1rem;opacity:.9}
#lightbox .x{position:absolute;top:10px;right:14px;width:40px;height:40px;border-radius:50%;display:grid;place-items:center;background:rgba(255,255,255,.12);color:#fff;font-size:26px;cursor:pointer}
#lightbox .x:active{transform:scale(.96)}

/* Promo interstitials */
.promo{display:grid;gap:10px}
.promo-hero{margin:0;border-radius:16px;overflow:hidden;box-shadow:0 10px 22px rgba(0,0,0,.06)}
.promo-hero img,.promo-hero video{width:100%;display:block;border-radius:16px;object-fit:cover}

/* Goal badge styles */
.goal-badge{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:700;font-size:.85rem}
.goal-soft{background:#e9f9f0;color:#0f7a42}
.goal-mid{background:#fff3cc;color:#9a6b00}
.goal-hard{background:#ffe9e6;color:#a11000}

/* === Player tabs (trial) === */
.p-tabs{display:flex;gap:8px;margin:6px 0 8px}
.p-btn{border:2px solid var(--g);background:#fff;border-radius:999px;padding:6px 10px;font-weight:700;cursor:pointer}
.p-btn.is{border-color:#ffd5c2;background:#fff7ef}
.player{position:relative;width:100%;aspect-ratio:16/9;background:#000;border-radius:16px;overflow:hidden}
.player iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

/* === Program (new) === */
.prog-head{border:2px solid var(--g);border-radius:16px;padding:12px;background:#fff}
.prog-title{font-weight:900;letter-spacing:-.02em}
.prog-chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
.prog-chip{border:2px solid #ffd5c2;background:#fff7ef;border-radius:999px;padding:6px 10px;font-weight:700}
.prog-list{margin:10px 0 0 18px}
.prog-hero{margin:0;border-radius:16px;overflow:hidden;box-shadow:0 10px 22px rgba(0,0,0,.06)}
.prog-hero img{width:100%;display:block}
</style>
</head>
<body>
  <div class="app"><div class="card">
    <!-- Header with discount (—Å–∫—Ä—ã—Ç –Ω–∞ –ø–µ—Ä–≤–æ–º —ç–∫—Ä–∞–Ω–µ) -->
    <div id="progress" class="hide">
      <div class="discbox" id="discBox">
        <span class="title">–í–∞—à–∞ —Å–∫–∏–¥–∫–∞</span>
        <span class="value" id="discVal">0%</span>
        <span class="disc-tip" tabindex="0">i<span class="tt">–†–∞—Å—Ç—ë—Ç —Å –∫–∞–∂–¥—ã–º –≤–æ–ø—Ä–æ—Å–æ–º!</span></span>
      </div>
      <div class="plogo"><img src="logo.png" alt="–®–ê–ì–ê–ô –î–û–ú–ê"></div>
    </div>

    <div id="screens"></div>
  </div></div>

  <!-- –õ–∞–π—Ç–±–æ–∫—Å -->
  <div id="lightbox" aria-hidden="true">
    <div class="x" id="lbClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</div>
    <div style="text-align:center">
      <img id="lbImg" alt=""/>
      <div class="cap" id="lbCap"></div>
    </div>
  </div>

<script>
/* === –ü–æ–ª–∏—Ñ–∏–ª–ª—ã === */
(function(){
  if (!Element.prototype.matches) {
    Element.prototype.matches =
      Element.prototype.msMatchesSelector ||
      Element.prototype.webkitMatchesSelector ||
      function(s){const m=(this.document||this.ownerDocument).querySelectorAll(s);let i=m.length;while(--i>=0&&m.item(i)!==this){}return i>-1;};
  }
  if (!Element.prototype.closest) {
    Element.prototype.closest=function(s){let el=this;do{if(el&&el.matches&&el.matches(s))return el;el=el.parentElement||el.parentNode;}while(el&&el.nodeType===1);return null;};
  }
})();

/* ===== Helpers ===== */
var $=function(s){return document.querySelector(s)};
var $$=function(s,r){return Array.from((r||document).querySelectorAll(s))};
function vibrate(n){try{if(navigator.vibrate) navigator.vibrate(n||12)}catch(e){}}
var A=JSON.parse(localStorage.getItem('sdq')||'{}');
function save(){localStorage.setItem('sdq',JSON.stringify(A))}
function idxBy(id){ return $$('#screens .screen').findIndex(function(s){return s.dataset.id===id}); }

/* dicts */
const AGE=['18‚Äì29','30‚Äì39','40‚Äì49','50+'];
const LIFE=['–°–∏–¥—è—á–∞—è —Ä–∞–±–æ—Ç–∞','–£–º–µ—Ä–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω–∞—è','–ê–∫—Ç–∏–≤–Ω–∞—è'];
const EXP=['–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–Ω–∏–º–∞–ª–∞—Å—å','–ò–Ω–æ–≥–¥–∞ –¥–æ–º–∞ / –ø–æ –≤–∏–¥–µ–æ','–†–µ–≥—É–ª—è—Ä–Ω–æ'];
const MOT=['–î–ª—è –∑–¥–æ—Ä–æ–≤—å—è','–î–ª—è –≤–Ω–µ—à–Ω–æ—Å—Ç–∏','–î–ª—è —ç–Ω–µ—Ä–≥–∏–∏ –∏ –ª—ë–≥–∫–æ—Å—Ç–∏','–î–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–µ–±–µ'];
const HEALTH=['–î–∏–∞–±–µ—Ç','–ü—Ä–æ–±–ª–µ–º—ã —Å–æ —â–∏—Ç–æ–≤–∏–¥–∫–æ–π','–ì–∏–ø–µ—Ä—Ç–æ–Ω–∏—è','–ë–æ–ª—å –≤ —Å—É—Å—Ç–∞–≤–∞—Ö','–ë–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å','–ù–µ—Ç'];
const BAD=['–°–ª–∞–¥–∫–∏–µ –ø–µ—Ä–µ–∫—É—Å—ã','–ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã','–ù–µ–¥–æ—Å—ã–ø','–ß–∞—Å—Ç—ã–π —Å—Ç—Ä–µ—Å—Å'];
const GOOD=['1.5‚Äì2 –ª –≤–æ–¥—ã','–û–≤–æ—â–∏ 400 –≥/–¥–µ–Ω—å','–ë–µ–ª–æ–∫ –∏ —Ñ—Ä—É–∫—Ç—ã –≤ –∫–∞–∂–¥–æ–º –ø—Ä–∏—ë–º–µ –ø–∏—â–∏','–°–æ–Ω 7-8 —á–∞—Å–æ–≤'];
const CASES=[
 { kg:14,   name:'–û–ª—å–≥–∏',         months:4, img:'olga.png' },
  { kg:10,   name:'–ê–ª–µ–∫—Å–∞–Ω–¥—Ä—ã',    months:4, img:'alexandra.png' },
  { kg:14,   name:'–ï–∫–∞—Ç–µ—Ä–∏–Ω—ã',     months:6, img:'ekaterina.jpg' },
  { kg:8,    name:'–Æ–ª–∏–∏',          months:4, img:'yulia.jpg' },
  { kg:17.5, name:'–°–≤–µ—Ç–ª–∞–Ω—ã',      months:2, img:'svetlana.jpg' },
  { kg:7,    name:'–†–µ–∑–µ–¥—ã',        months:2, img:'rezeda.jpg' },
  { kg:17.5, name:'–ò–Ω–Ω—ã',          months:5, img:'inna.jpg' },
  { kg:16,   name:'–®–∞–≥–∞—Ç–µ–ª—å–Ω–∏—Ü—ã',  months:3, img:'noname.jpg' }
];
function pickCase(targetKg){var best=null,diff=Infinity;for(const c of CASES){const d=Math.abs((c.kg||0)-targetKg);if(d<diff){diff=d;best=c}}return best}

/* scaffolding */
const screensRoot=$('#screens');
function section(id,html){return '<section class="screen'+(id==='intro'?' is':'')+'" data-id="'+id+'">'+html+'</section>'}
function chips(id,arr){return '<div class="chips" id="'+id+'">'+arr.map(t=>'<button type="button" class="chip" data-v="'+t+'">'+t+'</button>').join('')+'</div>'}
function opts(id,arr){
  return '<div class="grid cols2" id="'+id+'">'+arr.map(function(t){
    let label,key;
    if(typeof t==='string'){label=t;key=t}
    else if(Array.isArray(t)){label=t[0];key=t[1]||t[0]}
    else if(t&&typeof t==='object'){label=t.label||t.value||t.key||'';key=t.key||t.value||t.label||''}
    else{label=String(t);key=String(t)}
    return '<label class="opt" data-v="'+String(key)+'"><span>'+String(label)+'</span></label>'
  }).join('')+'</div>'
}
function actions(){return '<div class="actions sticky"><button class="btn ghost" data-prev type="button">–ù–∞–∑–∞–¥</button><button class="btn primary" data-next type="button">–î–∞–ª–µ–µ</button></div>'}

/* screens HTML */
const html=
section('intro',`
  <figure class="hero-wrap">
    <div class="hero-skel" id="heroSkel"></div>
    <video class="hero-media" autoplay muted playsinline loop preload="metadata" poster="logo.png">
      <source src="intro.mp4#t=0.1" type="video/mp4"/>
      <img src="logo.png" alt="–®–ê–ì–ê–ô –î–û–ú–ê"/>
    </video>
  </figure>

  <h1><b>–ü—Ä–æ–π–¥–∏—Ç–µ –∫–≤–∏–∑, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–æ–ª—É—á–∏—Ç—Å—è –ª–∏ —É –≤–∞—Å –ø–æ—Ö—É–¥–µ—Ç—å –Ω–∞ —à–∞–≥–∞—Ö</b></h1>
  <p class="hint lead-sub"><b>&hellip;–∞ —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –ø—Ä–æ–±–Ω—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –∏ —Å–∫–∏–¥–∫—É 70% –Ω–∞ –Ω–∞—à–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã!</b></p>

  <div class="grid">
    <div>
      <div class="hint">–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?</div>
      <input id="name" class="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò—Ä–∏–Ω–∞">
    </div>
  </div>

  <div class="actions sticky">
    <button class="btn primary" data-next type="button" id="startBtn" onclick="startQuiz(event)">–ü–æ–µ—Ö–∞–ª–∏ ‚Üí</button>
  </div>
`)
+section('age',`<h2>–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç</h2>${opts('ageOpts',AGE)}${actions()}`)
+section('promo1',`
  <div class="promo">
    <figure class="promo-hero"><img src="2.jpg" alt="–®–ê–ì–ê–ô –î–û–ú–ê‚ö° ‚Äî –±–æ–ª—å—à–µ 1 –º–ª–Ω –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤" loading="lazy" decoding="async"></figure>
    <h2>–£ –®–ê–ì–ê–ô –î–û–ú–ê‚ö° —É–∂–µ –±–æ–ª—å—à–µ <b>1&nbsp;–º–∏–ª–ª–∏–æ–Ω–∞</b> –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤–æ –≤—Å–µ—Ö —Å–æ—Ü—Å–µ—Ç—è—Ö!</h2>
    <p class="hint">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–∞–º–æ–º—É –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–º—É —Ñ–∏—Ç–Ω–µ—Å-—Å–æ–æ–±—â–µ—Å—Ç–≤—É.</p>
    ${actions()}
  </div>
`)
+section('body',`
  <h2>–¢–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ —Å–µ–π—á–∞—Å</h2>
  <div class="grid cols2" id="bodyOpts">
    ${[{label:'–•—É–¥–æ—â–∞–≤–æ–µ',key:'slim',img:'skinny.png',alt:'–•—É–¥–æ—â–∞–≤–æ–µ —Ç–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ'},{label:'–°—Ä–µ–¥–Ω–µ–µ',key:'avg',img:'slim.png',alt:'–°—Ä–µ–¥–Ω–µ–µ —Ç–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ'},{label:'–ö—Ä—É–ø–Ω–æ–µ',key:'large',img:'medium.png',alt:'–ö—Ä—É–ø–Ω–æ–µ —Ç–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ'},{label:'–ò–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å',key:'obese',img:'xl.png',alt:'–ò–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å'}].map(o=>`<label class="opt opt--img" data-v="${o.key}"><img src="${o.img}" alt="${o.alt}"><span>${o.label}</span></label>`).join('')}
  </div>${actions()}
`)
+section('steps',`
  <h2>–°–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ –≤—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ —Å–µ–π—á–∞—Å –≤ –¥–µ–Ω—å (–ø—Ä–∏–º–µ—Ä–Ω–æ)?</h2>
  <input id="steps" type="range" min="0" max="25000" step="250" value="4000">
  <div class="hint">–°–µ–π—á–∞—Å: <b><span id="sv">4000</span> —à–∞–≥–æ–≤</b></div>
  <p class="hint"><b>–ü–æ–¥—Å–∫–∞–∑–∫–∞:</b> –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞/–±—Ä–∞—Å–ª–µ—Ç–∞</p>
  ${actions()}
`)
+section('promo2',`
  <div class="promo">
    <figure class="promo-hero"><img src="otzyv.jpg" alt="–£–∂–µ –±–æ–ª—å—à–µ 10 000 –ª—é–¥–µ–π –≤ –∫–ª—É–±–µ" loading="lazy" decoding="async"></figure>
    <h2>–£–∂–µ –±–æ–ª—å—à–µ <b>10&nbsp;000</b> –ª—é–¥–µ–π –≤ –∫–ª—É–±–µ –®–ê–ì–ê–ô –î–û–ú–ê ‚ö°</h2>
    <p class="hint">–ö–∞–∂–¥—ã–π –Ω–∞ —Å–≤–æ—ë–º —É—Ä–æ–≤–Ω–µ, –Ω–æ –≤–º–µ—Å—Ç–µ ‚Äî —Å–∏–ª—å–Ω–µ–µ.</p>
    ${actions()}
  </div>
`)
+section('bmi',`
  <h2>–î–∞–≤–∞–π—Ç–µ –ø–æ—Å—á–∏—Ç–∞–µ–º –≤–∞—à –ò–ú–¢</h2>
  <p class="hint">–£–∫–∞–∂–∏—Ç–µ –≤–∞—à —Ä–æ—Å—Ç –∏ –≤–µ—Å ‚Äî –º–æ–∂–Ω–æ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ.</p>
  <div class="grid cols2">
    <div><div class="hint">–†–æ—Å—Ç, —Å–º</div><input id="h" type="number" class="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 165"></div>
    <div><div class="hint">–í–µ—Å, –∫–≥</div><input id="w" type="number" class="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 72"></div>
  </div>
  <div id="bmiI" class="hint"></div>
  ${actions()}
`)
+section('life',`<h2>–û–±—Ä–∞–∑ –∂–∏–∑–Ω–∏</h2>${opts('lifeOpts',LIFE)}${actions()}`)
+section('exp',`<h2>–û–ø—ã—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h2>${opts('expOpts',EXP)}${actions()}`)
+section('promo3',`
  <div class="promo">
    <figure class="promo-hero"><img src="walkwalk.jpg" alt="20 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —à–∞–≥–æ–≤" loading="lazy" decoding="async"></figure>
    <h2><b>20&nbsp;–º–∏–ª–ª–∏–æ–Ω–æ–≤</b> —à–∞–≥–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–∞–±–∏—Ä–∞—é—Ç —É—á–∞—Å—Ç–Ω–∏—Ü—ã –∫–ª—É–±–∞ üòç</h2>
    <p class="hint">–ö–æ—Ä–æ—Ç–∫–∏–µ —à–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ ‚Äî –ª–µ–≥–∫–æ –≤–ø–∏—Å–∞—Ç—å –≤ –¥–µ–Ω—å.</p>
    ${actions()}
  </div>
`)
+section('goal',`
  <h2>–í–∞—à–∞ —Ü–µ–ª—å</h2>
  <div class="goalw">
    <div class="goal-top">
      <div class="goal-card">
        <div class="goal-range">
          <div class="val"><span class="minus">‚àí</span><span id="goalVal">5.0</span> –∫–≥</div>
          <div class="sub"><span id="goalBadge" class="goal-badge goal-mid">—É–º–µ—Ä–µ–Ω–Ω–æ</span></div>
        </div>
        <input id="goalRange" type="range" min="0" max="20" step="0.5" value="5">
        <div class="hint">–ü–æ—Ç—è–Ω–∏—Ç–µ –ø–æ–ª–∑—É–Ω–æ–∫: 0 ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ñ–æ—Ä–º—É ¬∑ 20 ‚Äî –∞–º–±–∏—Ü–∏–æ–∑–Ω–∞—è —Ü–µ–ª—å</div>
        <label class="goal-switch" style="margin-top:10px"><input id="goalKeep" type="checkbox"><span>–ù–∞–∫–∞—á–∞—Ç—å –º—ã—à—Ü—ã</span></label>
      </div>
      <div class="goal-fig">
        <div class="goal-stack" id="goalStack">
          <img src="superfit.png" data-i="0" alt="">
          <img src="fit.png"      data-i="1" alt="">
          <img src="skinny.png"   data-i="2" alt="">
          <img src="slim.png"     data-i="3" alt="">
          <img src="s.png"        data-i="4" alt="">
          <img src="m.png"        data-i="5" alt="">
          <img src="l.png"        data-i="6" alt="">
          <img src="xl.png"       data-i="7" alt="">
          <img src="xxl.png"      data-i="8" alt="">
          <div class="tape" id="goalTape"></div>
        </div>
      </div>
    </div>
    <p class="goal-note">–¶–µ–ª—å –º–æ–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å –ø–æ–∑–∂–µ ‚Äî —Ä–∞—Å—á—ë—Ç –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤–∞—à —Ç–µ–º–ø –∏ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ.</p>
    ${actions()}
  </div>
`)
+section('motivation',`<h2>–ü–æ—á–µ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º?</h2>${chips('motChips',MOT)}${actions()}`)
+section('perweek',`
  <h2>–°–∫–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –Ω–µ–¥–µ–ª—é?</h2>
  ${chips('pwChips',['2 —Ä–∞–∑–∞','3 —Ä–∞–∑–∞','4‚Äì5 —Ä–∞–∑','–ö–∞–∂–¥—ã–π –¥–µ–Ω—å 20‚Äì30 –º–∏–Ω'])}
  <div id="aha" class="aha hidden"></div>
  <figure id="chartFig" class="promo-hero hidden" style="margin-top:8px"><img src="chart.jpg" alt="–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –Ω–µ–¥–µ–ª—è–º"></figure>
  ${actions()}
`)
+section('promo4',`
  <div class="promo">
    <figure class="promo-hero"><img src="doposle.jpg" alt="85% –ø–æ—Ö—É–¥–µ–ª–∏" loading="lazy" decoding="async"></figure>
    <h2><b>85%</b> –∂–µ–Ω—â–∏–Ω –≤ –∫–ª—É–±–µ –ø–æ—Ö—É–¥–µ–ª–∏ –Ω–∞ <b>1‚Äì2&nbsp;–∫–≥</b> –∑–∞ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ üî•</h2>
    <p class="hint">–°—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –ª–µ–≥–∫–æ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ—Ç–∏–≤–∏—Ä—É—é—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å.</p>
    ${actions()}
  </div>
`)
+section('hard',`
  <h2>–ß—Ç–æ —Å–µ–π—á–∞—Å –¥–∞—ë—Ç—Å—è —Ç—è–∂–µ–ª–µ–µ –≤—Å–µ–≥–æ?</h2>
  <div class="hardw">
    <div class="hard-cards" id="hardCards">
      <div class="hcard" data-k="walk"><div class="hhead"><div class="hicon">üö∂‚Äç‚ôÄÔ∏è</div><div>–î–æ–ª–≥–∞—è –ø—Ä–æ–≥—É–ª–∫–∞ —É—Ç–æ–º–ª—è–µ—Ç</div></div></div>
      <div class="hcard" data-k="stairs"><div class="hhead"><div class="hicon">ü™ú</div><div>–ö–∞–∂–¥—ã–π –ø—Ä–æ–ª—ë—Ç –ø–æ –ª–µ—Å—Ç–Ω–∏—Ü–µ ‚Äî –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</div></div></div>
      <div class="hcard" data-k="games"><div class="hhead"><div class="hicon">üéØ</div><div>–°—Ç—ã–¥–Ω–æ –≤–∫–ª—é—á–∞—Ç—å—Å—è –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã</div></div></div>
      <div class="hcard" data-k="jumps"><div class="hhead"><div class="hicon">ü¶ò</div><div>–ü—Ä—ã–∂–∫–∏</div></div></div>
      <div class="hcard" data-k="none"><div class="hhead"><div class="hicon">‚úÖ</div><div>–ù–∏—á–µ–≥–æ –∏–∑ —ç—Ç–æ–≥–æ</div></div></div>
    </div>
    ${actions()}
  </div>
`)
+section('health',`<h2>–ï—Å—Ç—å –ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å?</h2>${chips('healthChips',HEALTH)}<p class="hint">–ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ–º–Ω–µ–Ω–∏—è ‚Äî –ø—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º.</p>${actions()}`)
+section('nutrition',`<h2>–ü–∏—Ç–∞–Ω–∏–µ</h2>${opts('nutriOpts',[{label:'–ë—É–¥—É –ø–∏—Ç–∞—Ç—å—Å—è –ø–æ –º–µ–Ω—é-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É –≤ –∫–ª—É–±–µ',key:'menu'},{label:'–•–æ—á—É –Ω–∞—É—á–∏—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–∞—Ä–µ–ª–∫—É',key:'plate'},{label:'–ù–µ—Ç, –ø–æ–∫–∞ –±–µ–∑ –ø–∏—Ç–∞–Ω–∏—è',key:'no'}])}${actions()}`)
+section('food',`
  <h2>–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –Ω–∞–º –æ –≤–∞—à–∏—Ö —Ç–µ–∫—É—â–∏—Ö –ø—Ä–∏–≤—ã—á–∫–∞—Ö</h2>
  <div class="habit">
    <div class="habit-grid">
      <div class="col"><h3>–ü–ª–æ—Ö–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏</h3><div class="chips chips--pills" id="bad">${BAD.map(x=>`<button type="button" class="chip" data-kind="bad" data-v="${x}">${x}</button>`).join('')}</div></div>
      <div class="col"><h3>–•–æ—Ä–æ—à–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏</h3><div class="chips chips--pills" id="good">${GOOD.map(x=>`<button type="button" class="chip" data-kind="good" data-v="${x}">${x}</button>`).join('')}</div></div>
    </div>
    <div class="habit-meter hidden" id="hmWrap">
      <div class="hm-top"><div><span id="hmLabel">–ò–Ω–¥–µ–∫—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</span><span class="hm-badge hm-ok" id="hmBadge">–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ</span></div><span id="hmScore">0%</span></div>
      <div class="hm-track" id="hmTrack"><div class="hm-pointer" id="hmPtr"></div></div>
      <div class="hm-scale"><span>—Ç–æ—Ä–º–æ–∑–∏—Ç</span><span>–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ</span><span>—É—Å–∫–æ—Ä—è–µ—Ç</span></div>
    </div>
    <p class="hint">–û—Ç–º–µ—Ç—å—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –ø—Ä–æ –≤–∞—Å ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚ú®</p>
    <div class="actions sticky"><button class="btn ghost" data-prev type="button">–ù–∞–∑–∞–¥</button><button class="btn primary" id="calc" type="button">–î–∞–ª–µ–µ ‚Üí</button></div>
  </div>
`)
/* ==== –ï–î–ò–ù–´–ô –≠–ö–†–ê–ù: ¬´–£—Ä–∞! ‚Ä¶ + –ø—Ä–æ–±–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞¬ª ==== */
+section('trial', `
  <h2>–£—Ä–∞! –í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã üéâ</h2>
  <p class="hint"><b>–¢–µ–ø–µ—Ä—å –≤–∞–º –¥–æ—Å—Ç—É–ø–Ω–∞ –ø—Ä–æ–±–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞.</b></p>

  <div class="p-tabs" id="trialTabs"></div>
  <figure class="promo-hero" style="aspect-ratio:16/9">
    <div id="trialFrame" class="player"></div>
  </figure>

  <p class="hint"><b id="trialCtaText">
    –£–∑–Ω–∞–π—Ç–µ, –Ω–∞ —Å–∫–æ–ª—å–∫–æ –≤—ã –ø–æ—Ö—É–¥–µ–µ—Ç–µ, –µ—Å–ª–∏ –±—É–¥–µ—Ç–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –ø–æ —Ç–∞–∫–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º 3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é.
  </b></p>

  <div class="actions sticky">
    <button class="btn ghost" data-prev type="button">–ù–∞–∑–∞–¥</button>
    <button class="btn primary" id="trialComputeBtn" type="button">–£–∑–Ω–∞—Ç—å –º–æ–π –ø—Ä–æ–≥–Ω–æ–∑ ‚Üí</button>
  </div>
`)
+section('loading',`
  <div class="loader2"><div class="ring" id="lring"><div class="pct" id="lpct">0%</div></div>
  <div class="lmsg" id="lmsg">–°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ‚Ä¶</div><p class="hint" id="lsub">–í–æ–∑—Ä–∞—Å—Ç ‚Ä¢ –ò–ú–¢ ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Ä¢ –¶–µ–ª—å</p></div>
`)
+section('result',`
  <h2 id="rTitle">–ì–æ—Ç–æ–≤–æ!</h2>
  <div class="counter" id="nums">0 –∫–≥ –∑–∞ 0 –Ω–µ–¥–µ–ª—å</div>
  <p class="hint" id="rSub"></p>
  <div id="caseBox" class="case hide"></div>

  <div id="offerInline" class="offer-inline" style="display:block">
    <p class="hint" style="margin:0 0 8px 0"><b>–¢–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å —É –Ω–∞—Å –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: ‚àí70% –Ω–∞ –≤—Å–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã –≤ –∫–ª—É–±!</b></p>
    <div class="deal">
      <div class="deal-row">
        <span class="deal-badge">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ</span>
        <span class="deal-timer" id="inlineTimer">15:00</span>
      </div>
    </div>
    <div class="actions" style="margin-top:10px">
      <button class="btn primary" id="toCTA" type="button">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—é!</button>
    </div>
  </div>

  <p class="hint" id="rDisc">–ü—Ä–æ–≥–Ω–æ–∑ –Ω–æ—Å–∏—Ç –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π.</p>
  <div class="actions sticky">
    <button class="btn ghost" data-prev type="button">–ù–∞–∑–∞–¥</button>
  </div>
`)
/* === –ù–û–í–û–ï: —ç–∫—Ä–∞–Ω ¬´program¬ª –º–µ–∂–¥—É result –∏ sale === */
+section('program',`
  <h2>–° –∫–∞–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª—É—á—à–µ –Ω–∞—á–∞—Ç—å</h2>
  <div class="prog-head">
    <div class="prog-title" id="progTitle">–ú—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ —Å—Ç–∞—Ä—Ç–æ–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É</div>
    <div class="prog-chips" id="progChips"></div>
  </div>

  <figure class="prog-hero"><img src="program.png" alt="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞"></figure>

  <div class="card" style="border:2px solid var(--g)">
    <h3>–ü–æ—á–µ–º—É —ç—Ç–æ –ø–æ–¥–æ–π–¥—ë—Ç –∏–º–µ–Ω–Ω–æ –≤–∞–º</h3>
    <ul class="prog-list" id="progList"></ul>
  </div>

  <div class="actions sticky">
    <button class="btn ghost" data-prev type="button">–ù–∞–∑–∞–¥</button>
    <button class="btn primary" id="toSale" type="button">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º ‚Üí</button>
  </div>
`)
+section('sale',`
  <figure class="sale-hero"><img src="final.PNG" alt="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∫–ª—É–±–∞"></figure>
  <h2 id="sTitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –∫–ª—É–±—É ¬´–®–ê–ì–ê–ô –î–û–ú–ê¬ª ‚ö°</h2>
  <p class="hint" id="sLead"></p>
  <p class="hint"><b>–¢–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å —É –Ω–∞—Å –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: ‚àí70% –Ω–∞ –≤—Å–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã –≤ –∫–ª—É–±!</b></p>
  <div class="deal">
    <div class="deal-row">
      <span class="deal-badge">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ</span>
      <span class="deal-timer" id="saleTimer">15:00</span>
    </div>
  </div>
  <ul>
    <li>–î–æ–º–∞—à–Ω–∏–µ —à–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ 20‚Äì30 –º–∏–Ω—É—Ç</li>
    <li>–ì–æ—Ç–æ–≤—ã–µ –ø–ª–∞–Ω—ã –Ω–∞ –Ω–µ–¥–µ–ª—é</li>
    <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏—è –≤ —á–∞—Ç–µ</li>
    <li>–ü–æ–º–æ—â—å –∫—É—Ä–∞—Ç–æ—Ä–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</li>
  </ul>
  <div class="actions">
    <a class="btn primary" id="cta" href="https://walk-walk.ru/?utm_source=website&utm_medium=quiz&utm_campaign=trenirovka" target="_blank" rel="noopener">–•–æ—á—É –∞–±–æ–Ω–µ–º–µ–Ω—Ç —Å–æ —Å–∫–∏–¥–∫–æ–π 70%!</a>
    <button class="btn ghost" data-prev type="button">–ù–∞–∑–∞–¥</button>
  </div>
`);
screensRoot.innerHTML=html;

/* ===== Header (discount only) ===== */
const progressEl=$('#progress');
function updateDiscount(){
  const QUESTION_IDS=['age','body','steps','bmi','life','exp','goal','motivation','perweek','hard','health','nutrition','food'];
  const total=QUESTION_IDS.length;
  let seen=0;
  for(const id of QUESTION_IDS){
    const si=idxBy(id);
    if(si>=0 && idx>=si) seen++;
  }
  const pct=Math.min(70, Math.round((seen/total)*70));
  const el=$('#discVal'); if(el) el.textContent=pct+'%';
}
let idx=0;const S=$$('#screens .screen');
function show(n){
  S[idx].classList.remove('is');
  idx=Math.max(0,Math.min(S.length-1,n));
  S[idx].classList.add('is');
  /* –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫–∏–¥–∫—É —Å–æ –≤—Ç–æ—Ä–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ */
  progressEl.classList.toggle('hide', idx===0);
  updateDiscount();
  const curId=S[idx].dataset.id;
  if (curId === 'trial') { mountTrialPlayer(); updateTrialCtaText(); }
  window.scrollTo({top:0,behavior:'smooth'});
}
updateDiscount();

/* Navigation + —Ä–µ–∑–µ—Ä–≤ –¥–ª—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –∫–Ω–æ–ø–∫–∏ */
function startQuiz(e){ if(e){e.preventDefault(); e.stopPropagation();} show(1); }
window.addEventListener('click', function(e){
  const next = e.target.closest('[data-next]');
  const prev = e.target.closest('[data-prev]');
  if (next) { vibrate(); goNext(); }
  if (prev) { vibrate(); show(idx-1); }
});
var sb=$('#startBtn'); if(sb){sb.addEventListener('click', function(e){e.preventDefault(); e.stopPropagation(); vibrate(); show(1);});}

/* –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã: RESULT ‚Üí PROGRAM ‚Üí SALE */
screensRoot.addEventListener('click', function(e){
  if (e.target.closest('#toCTA')) { e.preventDefault(); try{renderProgram()}catch(_){} show(idxBy('program')); }
  if (e.target.closest('#toSale')) { e.preventDefault(); show(idxBy('sale')); try{layoutSaleOffer(); startTimers();}catch(_){ } }
});

/* validation */
function shake(){S[idx].animate([{transform:'translateX(0)'},{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(0)'}],{duration:260});vibrate(25)}
const need=function(k){return !A[k]};
function goNext(){
  const id=S[idx].dataset.id;
  let warn=false;
  if(id==='age'&&need('age'))warn=true;
  if(id==='body'&&need('body'))warn=true;
  if(id==='bmi'&&(!A.h||!A.w))warn=true;
  if(id==='life'&&need('life'))warn=true;
  if(id==='exp'&&need('exp'))warn=true;
  if(id==='goal'&&(A.goalKg==null)&&!A.keep)warn=true;
  if(id==='perweek'&&need('perweek'))warn=true;
  if(warn) shake();
  show(idx+1);
}

/* Inputs */
var nameI=$('#name'); if(nameI){nameI.oninput=function(e){A.name=e.target.value.trim();save()}}
const stepsEl=$('#steps'),sv=$('#sv');function updRange(){const min=+stepsEl.min||0,max=+stepsEl.max||100,val=+stepsEl.value||0,p=((val-min)/(max-min))*100;stepsEl.style.setProperty('--pct',p+'%')}
if(stepsEl){updRange();stepsEl.oninput=function(e){A.steps=+e.target.value;sv.textContent=A.steps;updRange();save();updateAha()}}

/* BMI calc + label */
['h','w'].forEach(function(id){var el=$('#'+id); if(el){el.addEventListener('input',function(){updBMI();updateGoalPreview()})}});
function bmiCat(b){if(b<18.5)return{label:'–î–µ—Ñ–∏—Ü–∏—Ç –º–∞—Å—Å—ã',cls:'bmi-warn'};if(b<25)return{label:'–ù–æ—Ä–º–∞',cls:'bmi-ok'};if(b<30)return{label:'–ò–∑–±—ã—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞',cls:'bmi-warn'};if(b<35)return{label:'–û–∂–∏—Ä–µ–Ω–∏–µ I —Å—Ç.',cls:'bmi-bad'};if(b<40)return{label:'–û–∂–∏—Ä–µ–Ω–∏–µ II —Å—Ç.',cls:'bmi-bad'};return{label:'–û–∂–∏—Ä–µ–Ω–∏–µ III —Å—Ç.',cls:'bmi-bad'}}
function updBMI(){const h=+$('#h').value,w=+$('#w').value;if(h>0&&w>0){A.h=h;A.w=w;const m=h/100;A.bmi=+(w/(m*m)).toFixed(1);save();const c=bmiCat(A.bmi);$('#bmiI').innerHTML='–í–∞—à –ò–ú–¢: <b>'+A.bmi+'</b> <span class="bmi-tag '+c.cls+'">'+c.label+'</span><br><span class="hint bmi-line">–ò–ú–¢ ‚Äî –∏–Ω–¥–µ–∫—Å –º–∞—Å—Å—ã —Ç–µ–ª–∞. –ü–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –ª–∏—à–Ω–∏–π –≤–µ—Å. –ù–æ—Ä–º–∞ 18,5‚Äì24,9.</span>'}else{$('#bmiI').textContent=''}}

/* selectors */
function selectList(root,key,single){
  if(!root)return;
  root.addEventListener('click',function(e){
    const sel=e.target.closest(single?'.opt':'.chip');if(!sel)return;
    if(single){$$('.opt',root).forEach(x=>x.classList.remove('is'));sel.classList.add('is');A[key]=sel.dataset.v||sel.textContent}
    else{sel.classList.toggle('is');A[key]=$$('.chip.is',root).map(x=>x.dataset.v||x.textContent)}
    save();vibrate(8); if(root.id==='bad'||root.id==='good') setTimeout(updMeter,0); if(root.id==='pwChips') updateAha();
  })
}
selectList($('#ageOpts'),'age',true);
selectList($('#bodyOpts'),'body',true);
selectList($('#lifeOpts'),'life',true);
selectList($('#expOpts'),'exp',true);
selectList($('#motChips'),'mot',false);
selectList($('#pwChips'),'perweek',false);
selectList($('#healthChips'),'health',false);
selectList($('#bad'),'bad',false);
selectList($('#good'),'good',false);
selectList($('#nutriOpts'),'nutri',true);

/* habits meter */
function nutrPreview(){const b=(A.bad||[]).length,g=(A.good||[]).length;let f=1;f+=g*.02;f-=b*.03;return Math.max(.7,Math.min(1.35,f))}
function updMeter(){
  const b=(A.bad||[]).length,g=(A.good||[]).length, any=b+g>0;
  var wrap=$('#hmWrap'); if(wrap){wrap.classList.toggle('hidden',!any)}
  if(!any) return;
  const f=nutrPreview(),acc=Math.round((f-1)*100);
  const ptr=$('#hmPtr'),track=$('#hmTrack'),score=$('#hmScore'),badge=$('#hmBadge');
  const min=-30,max=35,clamp=Math.max(min,Math.min(max,acc)),p=((clamp-min)/(max-min))*100;
  track.style.setProperty('--p',p+'%');ptr.style.left=p+'%';
  score.textContent=(acc>0?'+':'')+acc+'%';
  let cls='hm-ok',txt='–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ',border='#FFBA08';
  if(acc<=-15){cls='hm-bad';txt='—Å–∏–ª—å–Ω–æ —Ç–æ—Ä–º–æ–∑–∏—Ç';border="#E85D04";}
  else if(acc<-5){cls='hm-b–∞–¥';txt='—Ç–æ—Ä–º–æ–∑–∏—Ç';border="#E85D04";}
  else if(acc>15){cls='hm-good';txt='—Å—É–ø–µ—Ä—É—Å–∫–æ—Ä–µ–Ω–∏–µ';border="#12A06A";}
  else if(acc>5){cls='hm-good';txt='—É—Å–∫–æ—Ä—è–µ—Ç';border="#12A06A";}
  badge.className='hm-badge '+cls;badge.textContent=txt;ptr.style.borderColor=border;
}
updMeter();

/* hard cards */
(function setupHard(){
  const w=$('#hardCards');if(!w)return;
  const cs=$$('.hcard',w);
  if(A.hardKey){var sel=cs.find(c=>c.dataset.k===A.hardKey); if(sel) sel.classList.add('is')}
  w.addEventListener('click',function(e){
    const c=e.target.closest('.hcard');if(!c)return;
    cs.forEach(x=>x.classList.toggle('is',x===c));A.hardKey=c.dataset.k;
    A.hard={'walk':'–î–æ–ª–≥–∞—è –ø—Ä–æ–≥—É–ª–∫–∞ —É—Ç–æ–º–ª—è–µ—Ç','stairs':'–ö–∞–∂–¥—ã–π –ø—Ä–æ–ª—ë—Ç –ø–æ –ª–µ—Å—Ç–Ω–∏—Ü–µ ‚Äî –∏—Å–ø—ã—Ç–∞–Ω–∏–µ','games':'–°—Ç—ã–¥–Ω–æ –≤–∫–ª—é—á–∞—Ç—å—Å—è –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã','jumps':'–ü—Ä—ã–∂–∫–∏','none':'–ù–∏—á–µ–≥–æ –∏–∑ —ç—Ç–æ–≥–æ'}[A.hardKey];
    save();vibrate(8)
  })
})();

/* Goal preview */
const BMI_ANCHORS=[18.8,20.0,21.8,23.5,26.0,29.0,32.0,35.0,38.0];
function indexFromBMI(bmi){const B=BMI_ANCHORS,N=B.length-1;if(bmi<=B[0])return 0;if(bmi>=B[N])return N;for(let i=0;i<N;i++){if(bmi>=B[i]&&bmi<=B[i+1]){const t=(bmi-B[i])/(B[i+1]-B[i]);return i+t}}return N}
function bodyToIndex(bodyKey,N){const frac={slim:3/8,avg:5/8,large:7/8,obese:1.0}[bodyKey]||5/8;return frac*(N-1)}
function crossfade(imgs,t){const N=imgs.length-1,tt=Math.max(0,Math.min(N,t));const iLo=Math.floor(tt),iHi=Math.ceil(tt),f=tt-iLo;imgs.forEach(img=>{img.style.opacity=0;img.style.transform='scale(1)'});if(iLo===iHi){if(imgs[iLo]) imgs[iLo].style.opacity=1}else{const lo=imgs[iLo],hi=imgs[iHi];if(lo){lo.style.opacity=1-f;lo.style.transform='scale('+(1-0.02*f)+')'}if(hi){hi.style.opacity=f;hi.style.transform='scale('+(1-0.03*(1-f))+')'}}}
function updateGoalPreview(){
  const stack=$('#goalStack'); if(!stack) return;
  const imgs=Array.from(stack.querySelectorAll('img[data-i]')).sort((a,b)=>(+a.dataset.i)-(+b.dataset.i));
  const N=imgs.length; if(N<1) return;
  const keepOn=(document.getElementById('goalKeep')&&document.getElementById('goalKeep').checked) || !!A.keep;
  if(keepOn){imgs.forEach(img=>{img.style.opacity=0;img.style.transform='scale(1)'});(imgs[1]||imgs[0]).style.opacity=1;return}
  const kg=+A.goalKg||0;const h=(+A.h>0)?A.h/100:null,w=(+A.w>0)?+A.w:null;
  if(h&&w){const w2=Math.max(0.1,w-kg);const bmi2=w2/(h*h);const t=indexFromBMI(bmi2);crossfade(imgs,t)}
  else{const start=bodyToIndex(A.body||'avg',N);const t=Math.max(0,start-(kg/4));crossfade(imgs,t)}
}
function gBucket(kg){const v=+kg;if(v<=0)return'–ù–∞–∫–∞—á–∞—Ç—å –º—ã—à—Ü—ã';if(v<=5)return'–°–±—Ä–æ—Å–∏—Ç—å 3‚Äì5 –∫–≥';if(v<=10)return'–°–±—Ä–æ—Å–∏—Ç—å 5‚Äì10 –∫–≥';return'–°–±—Ä–æ—Å–∏—Ç—å 10+ –∫–≥'}
function updGoal(){const kg=+A.goalKg||0;$('#goalVal').textContent=kg.toFixed(1);const b=$('#goalBadge');let cls='goal-mid',txt='—É–º–µ—Ä–µ–Ω–Ω–æ';if(kg===0){cls='goal-soft';txt='–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ'}else if(kg<=5){cls='goal-soft';txt='–º—è–≥–∫–æ'}else if(kg<=10){cls='goal-mid';txt='—É–º–µ—Ä–µ–Ω–Ω–æ'}else{cls='goal-hard';txt='–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ'}b.className='goal-badge '+cls;b.textContent=txt;const rng=$('#goalRange'),pct=kg/(+rng.max)*100;rng.style.setProperty('--pct',pct+'%');updateGoalPreview()}
function setGoal(val){const kg=Math.max(0,Math.min(20,+val||0));A.goalKg=kg;A.goal=gBucket(kg);save();updGoal()}
function toggleKeep(ch){const rng=$('#goalRange');A.keep=!!ch;save();if(ch){rng.disabled=true;setGoal(0)}else{rng.disabled=false;if((+A.goalKg||0)===0)setGoal(5)}updateGoalPreview()}
const goalR=$('#goalRange'),goalK=$('#goalKeep');if(goalR){goalR.oninput=function(e){setGoal(e.target.value)}}if(goalK){goalK.onchange=function(e){toggleKeep(e.target.checked)}}(function(){const kg=(A.goalKg!=null)?+A.goalKg:5;if(goalR){goalR.value=kg}const keep=(A.keep===true)||kg===0;if(goalK){goalK.checked=keep}toggleKeep(keep);if(!keep) setGoal(kg);updateGoalPreview()})();

/* Aha moment + chart reveal */
function freqFromPerweek(){const sel=A.perweek||[];let s=0;for(const v of sel){if(/–ö–∞–∂–¥—ã–π –¥–µ–Ω—å/.test(v))s=Math.max(s,7);else if(/4‚Äì5/.test(v))s=Math.max(s,5);else if(/3/.test(v))s=Math.max(s,3);else if(/2/.test(v))s=Math.max(s,2)}return s}
function perweekLabel(){const sel=A.perweek||[];if(sel.some(s=>/–ö–∞–∂–¥—ã–π –¥–µ–Ω—å/.test(s)))return '–∫–∞–∂–¥—ã–π –¥–µ–Ω—å';if(sel.some(s=>/4‚Äì5/.test(s)))return '4‚Äì5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é';if(sel.some(s=>/3 —Ä–∞–∑–∞/.test(s)))return '3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é';if(sel.some(s=>/2 —Ä–∞–∑–∞/.test(s)))return '2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é';return '3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é'}
function updateAha(){
  const box=$('#aha'); const fig=$('#chartFig');
  const s=freqFromPerweek();
  if(!s){
    if(box){box.classList.add('hidden');box.innerHTML='';}
    if(fig){fig.classList.add('hidden');}
    return;
  }
  const minPerSess=25,eqSteps=3000,base=(+A.steps||4000)*7,addSteps=s*eqSteps;
  let factor=base>0?(base+addSteps)/base:0; factor=Math.min(2.5,Math.max(1.1,factor));
  const factorTxt=factor.toLocaleString('ru-RU',{maximumFractionDigits:1}),addTxt=addSteps.toLocaleString('ru-RU');
  const freqLabel=s===7?'–∫–∞–∂–¥—ã–π –¥–µ–Ω—å':'~'+s+' —Ä–∞–∑(–∞)';
  if(box){
    box.innerHTML='<div><strong>–°—É–ø–µ—Ä!</strong> –ï—Å–ª–∏ –≤—ã –±—É–¥–µ—Ç–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è <b>'+freqLabel+'</b> –ø–æ <b>'+minPerSess+' –º–∏–Ω—É—Ç</b>, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—ã—Ä–∞—Å—Ç–µ—Ç <b>–ø—Ä–∏–º–µ—Ä–Ω–æ –≤ '+factorTxt+' —Ä–∞–∑–∞</b> (–µ—â—ë ~<b>'+addTxt+'</b> —à–∞–≥–æ–≤ –≤ –Ω–µ–¥–µ–ª—é).</div><small>–ß–µ–º –≤—ã—à–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –∏–¥—ë—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å.</small>';
    box.classList.remove('hidden');
  }
  if(fig){fig.classList.remove('hidden');}
}
updateAha();

/* Loading + result */
function runLoading(done){
  const ring=$('#lring'),lpct=$('#lpct'),lmsg=$('#lmsg'),lsub=$('#lsub');
  const stepsTxt=['–£—á–∏—Ç—ã–≤–∞–µ–º –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç','–°–º–æ—Ç—Ä–∏–º —Ç–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ –∏ –ò–ú–¢','–ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –æ–ø—ã—Ç','–î–æ–±–∞–≤–ª—è–µ–º —à–∞–≥–∏ –∏ –ø–∏—Ç–∞–Ω–∏–µ','–ì–æ—Ç–æ–≤–∏–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑‚Ä¶'];
  let si=0;
  lmsg.textContent=stepsTxt[0];
  lsub.textContent='–í–æ–∑—Ä–∞—Å—Ç ‚Ä¢ –ò–ú–¢ ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Ä¢ –¶–µ–ª—å';

  const D=1500, t0=performance.now();
  function tick(n){
    const p=Math.min(1,(n-t0)/D);
    const ease=1-Math.pow(1-p,3);
    const pct=Math.round(5+95*ease);
    ring.style.setProperty('--p',pct+'%');
    lpct.textContent=pct+'%';

    const i=Math.min(stepsTxt.length-1,Math.floor(p*stepsTxt.length));
    if(i!==si){ si=i; lmsg.textContent=stepsTxt[si]; }

    if(p<1){ requestAnimationFrame(tick); }
    else { setTimeout(()=>{ try{ done(); } catch(err){ console.error(err); fallbackResult(); } },200); }
  }
  requestAnimationFrame(tick);
}
function fallbackResult(){
  const name=A.name&&A.name.trim()?A.name.trim():'';
  const kg=goalKg();
  $('#rTitle').textContent=name+'–í–∞—à –ø—Ä–æ–≥–Ω–æ–∑ –≥–æ—Ç–æ–≤ ‚ú®';
  if (A.keep || kg===0) $('#nums').textContent='–ß—Ç–æ–±—ã –ø—Ä–∏–π—Ç–∏ –∫ —Ü–µ–ª–∏ –∑–∞ 4 –Ω–µ–¥–µ–ª–∏';
  else $('#nums').textContent='‚âà ‚àí'+kg+' –∫–≥ –∑–∞ 8 –Ω–µ–¥–µ–ª—å';
  $('#rSub').textContent='–ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø–ª–∞–Ω –ø–æ –≤–∞—à–∏–º –¥–∞–Ω–Ω—ã–º.';
  show(idxBy('result'));
}

/* Tempo factors */
function fAge(){const a=A.age||'';if(/50/.test(a))return 0.88;if(/40/.test(a))return 0.94;if(/30/.test(a))return 0.98;return 1.06}
function fLife(){const l=A.life||'';if(/–°–∏–¥—è—á–∞—è/.test(l))return 0.90;if(/–£–º–µ—Ä–µ–Ω–Ω–æ/.test(l))return 1.00;return 1.08}
function fExp(){const e=A.exp||'';if(/–ù–∏–∫–æ–≥–¥–∞/.test(e))return 0.95;if(/–†–µ–≥—É–ª—è—Ä–Ω–æ/.test(e))return 1.08;return 1.00}
function fBody(){switch(A.body){case 'slim':return .92;case 'avg':return 1.00;case 'large':return .96;case 'obese':return .92;default:return 1.00}}
function fSteps(){const now=+A.steps||4000,add=2000,t=now+add;let boost=1+add/10000;if(now<3000)boost+=.08;if(now>9000)boost-=.06;return{f:Math.max(.95,Math.min(1.28,boost)),t}}
function fNutri(){let f=1;if(A.nutri==='menu')f+=.22;else if(A.nutri==='plate')f+=.12;else f-=.12;f-=((A.bad||[]).length)*.03;f+=Math.min(((A.good||[]).length)*.02,.10);return Math.max(.7,Math.min(1.35,f))}
function fHealth(){const h=new Set(A.health||[]);let f=1;if(h.has('–î–∏–∞–±–µ—Ç')||h.has('–ü—Ä–æ–±–ª–µ–º—ã —Å–æ —â–∏—Ç–æ–≤–∏–¥–∫–æ–π')||h.has('–ì–∏–ø–µ—Ä—Ç–æ–Ω–∏—è'))f-=.06;if(h.has('–ë–æ–ª—å –≤ —Å—É—Å—Ç–∞–≤–∞—Ö'))f-=.04;return Math.max(.8,f)}
function fPain(){switch(A.hardKey){case 'walk':return .94;case 'stairs':return .93;case 'games':return .96;case 'jumps':return .95;case 'none':return 1.02;default:return 1.00}}

/* Rate + duration */
function rate(){const w=+A.w||0;if(w>=100)return 1.0;let r=.5;const bmi=A.bmi||26;if(bmi>=30)r+=.08;else if(bmi<23)r-=.08;r*=fAge()*fLife()*fExp()*fBody()*fSteps().f*fNutri()*fHealth()*fPain();return Math.max(.25,Math.min(.9,+r.toFixed(2)))}
function fmtDuration(wks){if(wks<=10){return{start:12,value:wks,unitText:'–Ω–µ–¥–µ–ª—å',label:wks+' –Ω–µ–¥–µ–ª—å'}}const months=Math.ceil(wks/4);return{start:6,value:months,unitText:'–º–µ—Å.',label:months+' –º–µ—Å.'}}
function goalKg(){if(A.goalKg!=null)return Math.max(0,Math.min(20,+A.goalKg));const g=A.goal||'';if(g.includes('3‚Äì5'))return 4;if(g.includes('5‚Äì10'))return 8;if(g.includes('10+'))return 12;return 3}

/* Result */
function calculate(){
  const name=A.name&&A.name.trim()?A.name.trim():'–î—Ä—É–∑—å—è';
  const keepMode = !!A.keep;
  const kg=goalKg();
  const rt=rate();
  const wks=Math.max(4,Math.min(16,Math.ceil((keepMode?4:kg)/rt)));
  const dur=fmtDuration(wks);
  const stepsTarget=fSteps().t;

  $('#rTitle').textContent=name+', –≤–∞—à –ø—Ä–æ–≥–Ω–æ–∑ –≥–æ—Ç–æ–≤ ‚ú®';

  if (keepMode || kg===0) {
    $('#nums').textContent='–ß—Ç–æ–±—ã –ø—Ä–∏–π—Ç–∏ –∫ —Ü–µ–ª–∏ –∑–∞ '+dur.label;
    $('#rSub').innerHTML='–°–¥–µ–ª–∞–µ–º –∞–∫—Ü–µ–Ω—Ç –Ω–∞ <b>—Ç–æ–Ω—É—Å–µ, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏ –∏ —ç–Ω–µ—Ä–≥–∏–∏</b>. –° —à–∞–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –≤—ã –±—É–¥–µ—Ç–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å <b>'+stepsTarget.toLocaleString('ru-RU')+'</b> —à–∞–≥–æ–≤ –≤ –¥–µ–Ω—å.';
    $('#caseBox').classList.add('hide');
  } else {
    animNum(dur.start,dur.value,1400,function(v){$('#nums').textContent='‚àí'+kg+' –∫–≥ –∑–∞ '+v+' '+dur.unitText});
    const rtText=rt.toLocaleString('ru-RU',{minimumFractionDigits:1,maximumFractionDigits:1});
    $('#rSub').innerHTML='–° —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –®–ê–ì–ê–ô –î–û–ú–ê ‚ö°Ô∏è –≤—ã –±—É–¥–µ—Ç–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å <b>'+stepsTarget.toLocaleString('ru-RU')+'</b> —à–∞–≥–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!<br><span class="hint">–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ç–µ–º–ø: <b>~'+rtText+' –∫–≥/–Ω–µ–¥–µ–ª—é</b>.</span>';
    const caseObj=pickCase(Math.round(kg)); renderCaseBox(caseObj);
  }

  const leadSale=(keepMode||kg===0)
    ? '–ß—Ç–æ–±—ã –ø—Ä–∏–π—Ç–∏ –∫ —Ü–µ–ª–∏ –ø–æ <b>—Ç–æ–Ω—É—Å—É –∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏</b> –∑–∞ <b>'+dur.label+'</b> ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –ø–ª–∞–Ω—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É.'
    : '–ß—Ç–æ–±—ã –ø—Ä–∏–π—Ç–∏ –∫ —Ü–µ–ª–∏ <b>‚àí'+kg+' –∫–≥</b> –∑–∞ <b>'+dur.label+'</b> ‚Äî –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –ø–ª–∞–Ω—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É.';
  $('#sTitle').textContent=name+', –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –∫–ª—É–±—É ¬´–®–ê–ì–ê–ô –î–û–ú–ê¬ª ‚ö°';
  $('#sLead').innerHTML=leadSale;

  $('#offerInline').style.display='block';
  show(idxBy('result'))
}
function animNum(a,b,d,cb){const s=performance.now(),ease=function(t){return 1-Math.pow(1-t,3)};function fr(n){const p=Math.min(1,(n-s)/d);cb(Math.round(a+(b-a)*ease(p)));if(p<1)requestAnimationFrame(fr)}requestAnimationFrame(fr)}

/* Case + lightbox */
function renderCaseBox(c){
  const box=document.getElementById('caseBox'); if(!box) return;
  if(!c){box.classList.add('hide');return}
  const caption='–ö–∞–∫ —É –Ω–∞—à–µ–π —à–∞–≥–∞—Ç–µ–ª—å–Ω–∏—Ü—ã '+c.name+'! –û–Ω–∞ —É–∂–µ —Å–±—Ä–æ—Å–∏–ª–∞ '+c.kg+' –∫–≥ –∑–∞ '+c.months+' –º–µ—Å. –≤ –∫–ª—É–±–µ.';
  box.innerHTML='<img src="'+(c.img||'logo.png')+'" alt="'+(c.name||'–®–ê–ì–ê–ô –î–û–ú–ê')+'" id="caseImg"><div><h3>–ö–∞–∫ —É –Ω–∞—à–µ–π —à–∞–≥–∞—Ç–µ–ª—å–Ω–∏—Ü—ã '+c.name+'!</h3><p>–û–Ω–∞ —É–∂–µ —Å–±—Ä–æ—Å–∏–ª–∞ <b>'+c.kg+'</b> –∫–≥ –∑–∞ <b>'+c.months+'</b> –º–µ—Å. –≤ –∫–ª—É–±–µ.</p></div>';
  box.classList.remove('hide');
  var img=box.querySelector('#caseImg'); if(img){img.addEventListener('click',function(){openLightbox(c.img||'logo.png',caption)})}
}
const lightbox=$('#lightbox'),lbImg=$('#lbImg'),lbCap=$('#lbCap'),lbClose=$('#lbClose');
function openLightbox(src,caption){if(!src)return;lbImg.src=src;lbCap.textContent=caption||'';lightbox.classList.add('show');lightbox.setAttribute('aria-hidden','false');document.body.style.overflow='hidden'}
function closeLightbox(){lightbox.classList.remove('show');lightbox.setAttribute('aria-hidden','true');lbImg.src='';lbCap.textContent='';document.body.style.overflow=''}
lightbox.addEventListener('click',function(e){if(e.target===lightbox)closeLightbox()});lbClose.addEventListener('click',closeLightbox);

/* ==== –ü—Ä–æ–±–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞: –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏ —ç–º–±–µ–¥ ==== */
const TRIAL_EMBEDS = {
  vk: 'https://vkvideo.ru/video-222534261_456240753?list=ln-cX7y1TY0FmFwqMTUhQ',
  yt: 'https://youtu.be/Ph7uJ1RAZbU?si=YDp7eR44_xU2KQ8b',
  rt: 'https://rutube.ru/video/7d2a39deba78c2b57534ab65a6fd89e7/?r=a/'
};
const TRIAL_LABELS = { vk:'VK –í–∏–¥–µ–æ', yt:'YouTube', rt:'RuTube' };

/* –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—ã—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ embed-URL */
function getEmbedURL(key, url){
  if (key === 'vk') {
    const m = url.match(/video-?(-?\d+)_(\d+)/);
    if (m) return `https://vk.com/video_ext.php?oid=${m[1]}&id=${m[2]}&hd=2`;
    return url;
  }
  if (key === 'yt') {
    const m = url.match(/youtu\.be\/([A-Za-z0-9_-]+)/) || url.match(/[?&]v=([A-Za-z0-9_-]+)/);
    const id = m ? m[1] : '';
    return `https://www.youtube.com/embed/${id}?rel=0&modestbranding=1`;
  }
  if (key === 'rt') {
    const m = url.match(/rutube\.ru\/video\/([a-f0-9-]+)/i);
    if (m) return `https://rutube.ru/play/embed/${m[1]}`;
    return url.replace('/video/','/play/embed/');
  }
  return url;
}
function mountTrialPlayer(){
  var tabs = document.getElementById('trialTabs');
  var frame = document.getElementById('trialFrame');
  if(!tabs || !frame) return;

  var order = ['vk','yt','rt'].filter(function(k){ return !!TRIAL_EMBEDS[k]; });

  tabs.innerHTML = order.map(function(k,i){
    return '<button type="button" class="p-btn'+(i===0?' is':'')+'" data-k="'+k+'">'+TRIAL_LABELS[k]+'</button>';
  }).join('');

  // –∑–∞–ø–∞—Å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –ø–æ–¥ –ø–ª–µ–µ—Ä–æ–º (–µ—Å–ª–∏ iframe –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è)
  var ext = document.getElementById('trialExt');
  if(!ext){
    ext = document.createElement('p');
    ext.className = 'hint';
    ext.id = 'trialExt';
    ext.innerHTML = '<a id="trialOpen" href="#" target="_blank" rel="noopener">–ï—Å–ª–∏ –ø–ª–µ–µ—Ä –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –æ—Ç–∫—Ä—ã—Ç—å –≤–∏–¥–µ–æ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ</a>';
    frame.parentNode.insertAdjacentElement('afterend', ext);
  }
  var extLink = document.getElementById('trialOpen');

  function select(key){
    Array.from(tabs.querySelectorAll('.p-btn')).forEach(function(b){
      b.classList.toggle('is', b.dataset.k === key);
    });
    var raw = TRIAL_EMBEDS[key];
    var src = getEmbedURL(key, raw);
    frame.innerHTML =
      '<iframe src="'+src+'" title="–ü—Ä–æ–±–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞" loading="lazy" '+
      'allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" '+
      'allowfullscreen referrerpolicy="no-referrer-when-downgrade"></iframe>';
    if (extLink) extLink.href = raw;
  }
  tabs.addEventListener('click', function(e){
    var b = e.target.closest('.p-btn'); if(!b) return;
    select(b.dataset.k);
  });
  if(order.length) select(order[0]);
}

/* === Program recommendation === */
function chooseProgram(){
  const bmi = Number(A.bmi||0);
  const exp = A.exp||'';
  const life= A.life||'';
  const hard= A.hardKey||'';
  const keep = !!A.keep;

  let p={title:'SOFT START',lead:'–ú—è–≥–∫–∏–π –≤—Ö–æ–¥ –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤ –∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∞.',meta:{freq:'3 —Ä–∞–∑–∞/–Ω–µ–¥',dur:'20‚Äì25 –º–∏–Ω',tempo:'–Ω–∏–∑–∫–∏–π'}};
  if (/–†–µ–≥—É–ª—è—Ä–Ω–æ/.test(exp) || /–ê–∫—Ç–∏–≤–Ω–∞—è/.test(life))
    p={title:'BALANCE',lead:'–°–∏–ª–æ–≤–∞—è –∏ —à–∞–≥–∞—Ç–µ–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –≤ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–º —Ç–µ–º–ø–µ.',meta:{freq:'4 —Ä–∞–∑–∞/–Ω–µ–¥',dur:'25‚Äì30 –º–∏–Ω',tempo:'—Å—Ä–µ–¥–Ω–∏–π'}};
  if (bmi>=30 || /jumps|stairs|walk/.test(hard))
    p={title:'SOFT',lead:'–©–∞–¥—è—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Å—É—Å—Ç–∞–≤–æ–≤, –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤.',meta:{freq:'3 —Ä–∞–∑–∞/–Ω–µ–¥',dur:'15‚Äì20 –º–∏–Ω',tempo:'–Ω–∏–∑–∫–∏–π'}};
  if (keep)
    p={title:'TONUS',lead:'–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–æ–Ω—É—Å–∞, –æ—Å–∞–Ω–∫–∏ –∏ —ç–Ω–µ—Ä–≥–∏–∏.',meta:{freq:'3‚Äì4 —Ä–∞–∑–∞/–Ω–µ–¥',dur:'20‚Äì25 –º–∏–Ω',tempo:'—Å—Ä–µ–¥–Ω–∏–π'}};

  if (/—ç–Ω–µ—Ä–≥|–ª—ë–≥–∫/i.test((A.mot||[]).join(' '))) p.meta.steps='6‚Äì8–∫ —à–∞–≥–æ–≤';
  return p;
}
function buildProgramBullets(p){
  const B=[], kg=+goalKg()||0;
  if (A.keep || kg===0) B.push('–ê–∫—Ü–µ–Ω—Ç –Ω–∞ —Ç–æ–Ω—É—Å, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –∏ –ª—ë–≥–∫–æ—Å—Ç—å –≤ —Ç–µ–ª–µ.');
  else B.push('–î–≤–∏–≥–∞–µ–º—Å—è –∫ –≤–∞—à–µ–π —Ü–µ–ª–∏ ‚àí'+kg+' –∫–≥ –±–µ–∑ —Ä—ã–≤–∫–æ–≤ –∏ –∏–∑–Ω—É—Ä–µ–Ω–∏—è.');
  if (/–°–∏–¥—è—á–∞—è/.test(A.life||'')) B.push('–ú—è–≥–∫–æ —Ä–∞–∑–≥–æ–Ω—è–µ–º –æ–±–º–µ–Ω –∏ —É—Ö–æ–¥–∏–º –æ—Ç ¬´—Å–∏–¥—è—á–∏—Ö¬ª –±–æ–ª–µ–π.');
  if (/–ù–∏–∫–æ–≥–¥–∞/.test(A.exp||'')) B.push('–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ç—Ä–µ–Ω–µ—Ä–∞ ‚Äî –Ω–∞—á–Ω—ë—Ç–µ —É–≤–µ—Ä–µ–Ω–Ω–æ.');
  if (A.perweek) B.push('–£—á–∏—Ç—ã–≤–∞–µ–º –≤–∞—à –≥—Ä–∞—Ñ–∏–∫: '+(Array.isArray(A.perweek)?A.perweek.join(', '):A.perweek)+'.');
  if (A.steps) B.push('–ü–æ–¥—Ö–≤–∞—Ç–∏–º –≤–∞—à —É—Ä–æ–≤–µ–Ω—å —à–∞–≥–æ–≤ –∏ —É–≤–µ–ª–∏—á–∏–º –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ (—Å–µ–π—á–∞—Å ~'+(+A.steps).toLocaleString('ru-RU')+').');
  return B.slice(0,7);
}
function renderProgram(){
  const p=chooseProgram();
  const tEl=document.getElementById('progTitle');
  const chips=document.getElementById('progChips');
  const ul=document.getElementById('progList');
  if(tEl){ tEl.textContent = '–£ –Ω–∞—Å 28 –ø—Ä–æ–≥—Ä–∞–º–º, –Ω–æ –≤–∞–º –ª—É—á—à–µ –Ω–∞—á–∞—Ç—å —Å ¬´'+p.title+'¬ª. –í—Ö–æ–¥–∏—Ç –≤ –ª—é–±–æ–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç!'; }
  if(chips){
    const arr=[p.meta?.freq,p.meta?.dur,p.meta?.tempo,p.meta?.steps].filter(Boolean);
    chips.innerHTML=arr.map(function(x){return '<span class="prog-chip">'+x+'</span>'}).join('');
  }
  if(ul){
    ul.innerHTML='';
    buildProgramBullets(p).forEach(function(b){ var li=document.createElement('li'); li.textContent=b; ul.appendChild(li); });
  }
}

/* Timers (15 –º–∏–Ω—É—Ç) */
function getDeadline(){let t=+localStorage.getItem('sdq_offer_deadline_15')||0;const now=Date.now();if(!t||t<now){t=now+15*60*1000;localStorage.setItem('sdq_offer_deadline_15',String(t))}return t}
function fmtHMS(ms){let sec=Math.max(0,Math.floor(ms/1000));const h=Math.floor(sec/3600);sec-=h*3600;const m=Math.floor(sec/60);const s=sec%60;const pad=n=>String(n).padStart(2,'0');return h>0?pad(h)+':'+pad(m)+':'+pad(s):pad(m)+':'+pad(s)}
let __sdqTimerInt=null;
function startTimers(){if(__sdqTimerInt){clearInterval(__sdqTimerInt);__sdqTimerInt=null}const deadline=getDeadline();const saleTimer=$('#saleTimer');const inlineTimer=$('#inlineTimer');const tick=function(){const rem=deadline-Date.now();const str=fmtHMS(rem);if(saleTimer)saleTimer.textContent=str;if(inlineTimer)inlineTimer.textContent=str;if(rem<=0){clearInterval(__sdqTimerInt);__sdqTimerInt=null}};tick();__sdqTimerInt=setInterval(tick,1000)}
function layoutSaleOffer(){const saleSection=document.querySelector('section[data-id="sale"]');if(!saleSection)return;const deal=saleSection.querySelector('.deal');const specialP=Array.from(saleSection.querySelectorAll('p.hint')).find(p=>/–¢–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å —É –Ω–∞—Å –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ/i.test(p.textContent||''));if(deal&&specialP){specialP.after(deal)}}

/* hero skeleton hide */
var hv=document.querySelector('video.hero-media'),hs=document.getElementById('heroSkel');
function hideS(){if(hs) hs.classList.add('hide')}
if(hv){hv.addEventListener('loadeddata',hideS,{once:true});hv.addEventListener('canplay',hideS,{once:true});hv.addEventListener('error',function(){setTimeout(hideS,800)},{once:true})}
setTimeout(hideS,1500);

/* init */
(function(){try{layoutSaleOffer();startTimers();updateDiscount();progressEl.classList.add('hide');mountTrialPlayer();hookButtons()}catch(e){console.error(e)}})();

/* –ö–Ω–æ–ø–∫–∞ ¬´–î–∞–ª–µ–µ¬ª –ø–æ—Å–ª–µ –ø—Ä–∏–≤—ã—á–µ–∫ ‚Üí trial, –∑–∞—Ç–µ–º —Ä–∞—Å—á—ë—Ç ‚Üí result */
function hookButtons(){
  var calcB=$('#calc'); if(calcB){calcB.onclick=function(){show(idxBy('trial'))}}
  var tbtn=$('#trialComputeBtn'); if(tbtn){tbtn.onclick=function(){show(idxBy('loading'));runLoading(function(){try{calculate()}catch(e){console.error(e);fallbackResult()}})}}
}

/* –¢–µ–∫—Å—Ç –ø–æ–¥ –≤–∏–¥–µ–æ –Ω–∞ trial */
function updateTrialCtaText(){
  var el=$('#trialCtaText'); if(!el) return;
  el.innerHTML='<b>–£–∑–Ω–∞–π—Ç–µ, –Ω–∞ —Å–∫–æ–ª—å–∫–æ –≤—ã –ø–æ—Ö—É–¥–µ–µ—Ç–µ, –µ—Å–ª–∏ –±—É–¥–µ—Ç–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –ø–æ —Ç–∞–∫–∏–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º '+perweekLabel()+'.</b>';
}

/* after result restart timers */
const __oldCalc=(typeof calculate==='function')?calculate:null;
if(__oldCalc){window.calculate=function(){__oldCalc.apply(this,arguments);startTimers()}}

/* —É–±—Ä–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ ¬´–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É¬ª (–µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å) */
var tp=document.getElementById('toPrograms'); if(tp){var ac=tp.closest('.actions'); if(ac) ac.remove();}
</script>
</body>
</html>
